---
title: "Unit 9 activities"
author: "Guilherme Amorim"
date: "2024-10-16"
output: pdf_document
---


# Unit 9 - data activity

Using the Crime Survey for England and Wales, 2013-2014: Unrestricted Access Teaching Dataset, perform the following activities:

Create a crosstab to assess how individualsâ€™ experience of any crime in the previous 12 months bcsvictim vary by age group agegrp7. Create the crosstab with bcsvictim in the rows and agegrp7 in the columns, and produce row percentages, rounded to 2 decimal places.
Looking at the crosstab you have produced, which age groups were the most likely, and least likely, to be victims of crime?

## R

### Initial setup and loading data
```{r setup, include=T, message=F}
# initial setup


library(haven)
library(skimr)
library(tidyverse)


crime_data<-read_sav("C:/Users/guilhermep/Documents/PgDip/Coding/Module 2/pgdip_module2_practice/Datasets/8011spss_115789D2C668C0532E10DF66A3148DDB_V1/UKDA-8011-spss/spss/spss24/csew1314teachingopen.sav")

```


### Crosstab

```{r}

library(gmodels)

CrossTable(crime_data$bcsvictim, 
           crime_data$agegrp7,
           prop.c = F,
           prop.r = T,
           prop.t=F,
           prop.chisq = F,
           chisq = F,
           format="SPSS")


round(prop.table(table(crime_data$bcsvictim, 
           crime_data$agegrp7),1)*100,2)


attr(crime_data$agegrp7, "labels")
```
From the contigency table and proportions produced, people in age group 2 (25-34) were the most likely and those in age group 7 (75+) the least likely to have been a victim of crime in the past year.


## Python
```{python, include=F}
# first install packages (from terminal)

# pip3 install numpy

# pip3 install pandas

# pip3 install matplotlib 

# pip3 install pyreadstat 

import pandas as pd

import numpy as np 

import matplotlib.pyplot as plt

from scipy import stats


crime_data = pd.read_spss("C:/Users/guilhermep/Documents/PgDip/Coding/Module 2/pgdip_module2_practice/Datasets/8011spss_115789D2C668C0532E10DF66A3148DDB_V1/UKDA-8011-spss/spss/spss24/csew1314teachingopen.sav")

pd.crosstab(crime_data.bcsvictim, crime_data.agegrp7, normalize='index')


```

